{"content":{"type":"API","structure":"","server_on_load":"async ({\n  template,\n  params,\n  render,\n  db,\n  req,\n  reply,\n  user,\n  log,\n  ext,\n  isDev,\n}: Server) => {\n  const privateKey = \"Team 6 Andromedia\";\n  let a_post = {\n    token: req.body.token,\n    pass: req.body.password,\n  };\n  let a_pass = a_post.pass;\n  let token = a_post.token;\n  let pass = ext.CryptoJS.AES.encrypt(a_pass, privateKey).toString();\n  const resetPass = db.$queryRaw(\n    \"SELECT f_resetpassword('\" + token + \"', '\" + pass + \"')\"\n  );\n  resetPass.then((e) => {\n    reply.send({\n      status: e[0].f_resetpassword,\n      enskripsi: pass,\n      decrypt: ext.CryptoJS.AES.decrypt(pass, privateKey).toString(\n        ext.CryptoJS.enc.Utf8\n      ),\n      send: \"SELECT f_resetpassword('\" + token + \"', '\" + a_pass + \"')\",\n    });\n  })\n}","figma":{}},"title":"reset-pass","type":"cms-template","lang":"","status":"SYSTEM","parent_id":"54643","slug":"/api/reset-password","site":"*","id":"58580"}